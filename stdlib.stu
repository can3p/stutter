;;
;; Stdlib functions and definitions.
;;

;; Our nil symbol.
(def nil ())

;; nil predicate.
(def nilp (lambda (a) (= a nil)))

;; Standard map.
(def map (lambda (f l)
           (if (nilp l)
               nil
             (cons (f (car l)) (map f (cdr l))))))

;; Perl-style grep.
(def grep (lambda (p l)
            (if (nilp l)
                nil
              (if (p (car l))
                  (cons (car l) (grep p (cdr l)))
                (grep p (cdr l))))))
